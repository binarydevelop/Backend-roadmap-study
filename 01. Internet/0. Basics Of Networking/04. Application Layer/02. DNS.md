# DNS


When a user types a URL (Uniform Resource Locator) into their web browser, such as "www.example.com," the process of fetching the corresponding IP address involves multiple steps and various entities. Here's a breakdown of the process along with the roles of different DNS (Domain Name System) components using the example of "www.example.com":

1. **User Input**: The user enters the URL "www.example.com" into their web browser's address bar.

2. **Local Resolver**: The user's device (computer or smartphone) first checks its local DNS cache to see if it already knows the IP address for "www.example.com." If the IP address is found in the cache and is still valid, the process ends here, and the IP address is used to connect to the website.

3. **DNS Resolver (Recursive Resolver)**: If the IP address is not found in the local cache, the user's device contacts a DNS resolver, typically provided by the Internet Service Provider (ISP) or a third-party DNS service (e.g., Google DNS, OpenDNS). The DNS resolver is responsible for finding the IP address associated with the domain name.

4. **Root DNS Servers**: If the DNS resolver doesn't have the IP address information, it contacts a root DNS server. Root DNS servers are a critical part of the DNS infrastructure and are managed by various organizations. They maintain a list of authoritative DNS servers for top-level domains (TLDs), such as ".com," ".org," ".net," etc. The root server responds to the resolver with a referral to the appropriate TLD server for the requested domain ("example.com").

5. **TLD DNS Servers**: The resolver contacts the TLD DNS server for the specific top-level domain, in this case, the ".com" TLD server. The TLD server provides information about which authoritative DNS server is responsible for the "example.com" domain.

6. **Authoritative DNS Server**: The resolver then contacts the authoritative DNS server for "example.com." This server is typically managed by the organization that owns the domain. The authoritative server contains the specific IP address information for the requested subdomain "www.example.com."

7. **DNS Response**: The authoritative DNS server sends the IP address for "www.example.com" back to the DNS resolver.

8. **Recursive Resolver to User**: The DNS resolver caches the IP address and sends it back to the user's device.

9. **User to Website**: The user's device now has the IP address for "www.example.com." It can establish a connection to the web server hosting the website at that IP address, and the website's content is then retrieved and displayed in the user's browser.

In summary, each component in the DNS process has a specific role:

- **Local Resolver**: Checks local cache for IP addresses.
- **DNS Resolver (Recursive Resolver)**: Contacts root and subsequent DNS servers to find IP addresses.
- **Root DNS Servers**: Directs to TLD servers.
- **TLD DNS Servers**: Provides information about authoritative DNS servers.
- **Authoritative DNS Server**: Holds IP address information for specific domains.
- **User**: Initiates the process by entering a URL.

This complex process ensures that users can access websites using human-friendly domain names while the underlying system uses IP addresses for communication.

## Recursive and Iterative Lookup 

Recursive and iterative lookups are two different methods used in the Domain Name System (DNS) to resolve domain names to their corresponding IP addresses. Here's an explanation of both approaches:

1. **Recursive Lookup**:

In a recursive lookup, the DNS resolver (usually provided by your ISP or a third-party DNS service) takes on the responsibility of finding the IP address for the requested domain on behalf of the client (user's device). The process works as follows:

- The client (user's device) sends a request to the DNS resolver, asking for the IP address associated with a particular domain name.
- The DNS resolver contacts the root DNS servers, then the top-level domain (TLD) servers, and subsequently the authoritative DNS server responsible for the domain.
- The DNS resolver follows this chain of requests until it receives the final IP address from the authoritative DNS server.
- Once the DNS resolver obtains the IP address, it returns the result to the client.

Recursive lookups simplify the process for the client, as the client only needs to make a single request to the DNS resolver, which then handles all the iterative requests to various DNS servers. This method is often used by default in most DNS configurations.

2. **Iterative Lookup**:

In an iterative lookup, the DNS resolver doesn't perform all the legwork on behalf of the client. Instead, it provides the client with information about where to continue its search for the IP address. The process goes as follows:

- The client sends a request to the DNS resolver, asking for the IP address associated with a domain name.
- The DNS resolver, instead of contacting various DNS servers itself, returns a referral to the client. This referral specifies which DNS server the client should query next.
- The client then contacts the DNS server mentioned in the referral and repeats the process, receiving another referral or the final IP address.
- This iteration continues until the client obtains the IP address it was looking for.

Iterative lookups require the client to actively participate in contacting different DNS servers, which can be more time-consuming compared to recursive lookups. However, this method allows the client to have more control over the lookup process and can be useful in certain troubleshooting scenarios.

In most cases, DNS resolvers use recursive lookups to efficiently handle DNS queries for users, simplifying the process for the end user. However, iterative lookups can be valuable for debugging DNS-related issues and understanding the hierarchy of DNS servers involved in resolving a domain name.


so the root servers and TLD servers and authoritative servers do this iterative lookup since they do not give the exact ip but provide with you an intermediate direction as to the resolver. 